<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆéƒ½ç™½é…’æ¶ˆè´¹å¸‚åœºè°ƒç ”é—®å·</title>
    <style>
        /* åŸºç¡€æ ·å¼ï¼Œç®€æ´æ˜“æ‰©å±• */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft Yahei", sans-serif;
        }

        body {
            background-image: url('background.png');
            background-size: cover;                         /* è¦†ç›–æ•´ä¸ªåŒºåŸŸ */
            background-position: center center;             /* å±…ä¸­å¯¹é½ */
            background-repeat: no-repeat;                   /* ä¸é‡å¤ */
            background-attachment: fixed;                   /* å›ºå®šèƒŒæ™¯ */
            padding: 20px;
            line-height: 1.6;
            color: #333;
            min-height: 100vh;
            overflow-x: hidden;/* æœ€å°é«˜åº¦ä¸ºè§†çª—é«˜åº¦ */
        }



        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 6px solid #8B0000;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.6s ease-out;
        }

        .container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        header h1 {
            text-align: center;
            color: #8B0000; /* ç™½é…’ä¸»é¢˜çº¢è‰²è°ƒ */
            margin-bottom: 10px;
        }

        .intro {
            margin: 20px 0;
            padding: 15px;
            background: #faf6f0;
            border-left: 4px solid #8B0000;
        }

        /* é—®å·ç« èŠ‚æ ·å¼ */
        section {
            margin: 30px 0;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

            section h2 {
                color: #8B0000;
                margin-bottom: 15px;
                font-size: 1.2rem;
            }

        .question {
            margin: 20px 0;
            position: relative;
            overflow-y: visible; /* ä¿è¯å‚ç›´æ–¹å‘å­å…ƒç´ ä¸ä¼šè¢«è£å‰ª */
            z-index: 0;
        }

            .question p {
                font-weight: 600;
                margin-bottom: 10px;
                overflow: visible; /* å…è®¸å­å…ƒç´ åœ¨çˆ¶å®¹å™¨ä¹‹å¤–æ˜¾ç¤º */
                position: relative; /* ä¿æŒå®šä½ä¸Šä¸‹æ–‡ä½†ä¸é®æŒ¡ */
                pointer-events: auto;
            }

        /* å…³é”®ä¿®å¤ï¼šå…è®¸å­å…ƒç´ æº¢å‡ºæ˜¾ç¤ºï¼Œé¿å… hover è¢«çˆ¶å®¹å™¨è£å‰ªæˆ–é®æŒ¡ */
        .options {
            margin-left: 20px;
            overflow: visible; /* å…è®¸å­å…ƒç´ åœ¨çˆ¶å®¹å™¨ä¹‹å¤–æ˜¾ç¤º */
            position: relative; /* ä¿æŒå®šä½ä¸Šä¸‹æ–‡ä½†ä¸é®æŒ¡ */
            pointer-events: auto;
            z-index: 0;
        }

        .option-item {
            margin: 8px 0;
        }

        /* å›¾ç‰‡é€‰æ‹©é¢˜æ ·å¼ */
        .image-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 8px;
        }

        /* ä½¿ç”¨ flex-basis ä¿æŒå“åº”å¼ï¼Œå¢å¤§é»˜è®¤å°ºå¯¸ */
        .image-option {
            flex: 0 0 180px;
            max-width: 200px;
            border: 1px solid #e6e6e6;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            background: #fff;
            transition: box-shadow 0.18s ease, transform 0.12s ease, border-color 0.12s ease;
            font-size: 0.95rem;
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

            .image-option img {
                width: 100%;
                height: 130px;
                object-fit: cover;
                border-radius: 8px;
                display: block;
                transition: transform 0.18s ease, filter 0.18s ease;
                will-change: transform;
            }

            .image-option input[type="checkbox"] {
                display: none;
            }

                /* é€‰ä¸­æ€å¯è§†åŒ–ï¼ˆæ›´æ˜æ˜¾ï¼‰ */
                .image-option input[type="checkbox"]:checked + img {
                    outline: 4px solid #8B0000;
                    outline-offset: -6px;
                    transform: scale(1.03);
                    box-shadow: 0 8px 20px rgba(139,0,0,0.12);
                }

            .image-option .caption {
                font-size: 1rem;
                color: #333;
                /* è‰ºæœ¯å­—ä½“æ•ˆæœï¼ˆä¸­æ–‡ç”¨æ¥·ä½“/ç³»ç»Ÿä¹¦æ³•ä½“å›é€€ï¼‰ */
                font-family: "KaiTi", "STKaiti", "Brush Script MT", "Microsoft Yahei", serif;
                text-shadow: 0 1px 0 rgba(255,255,255,0.6), 0 2px 8px rgba(0,0,0,0.06);
                transition: color 0.12s ease, transform 0.12s ease;
                transform-origin: center;
            }

            /* Hover æ•ˆæœï¼šæ¼‚æµ® + å›¾ç‰‡å¾®æ”¾å¤§ + è¾¹æ¡†é«˜äº® */
            .image-option:hover {
                transform: translateY(-6px) scale(1.01);
                box-shadow: 0 10px 24px rgba(139,0,0,0.12);
                border-color: rgba(139,0,0,0.18);
            }

                .image-option:hover img {
                    transform: scale(1.04);
                    filter: brightness(1.02);
                }

                .image-option:hover .caption {
                    color: #8B0000;
                    transform: translateY(-2px);
                    font-weight: 700;
                }

            /* å½“é€‰ä¸­å¹¶ hover æ—¶ç»“åˆæ ·å¼ï¼ˆæ›´æ˜¾è‘—ï¼‰ */
            .image-option input[type="checkbox"]:checked:hover + img {
                transform: scale(1.05);
                box-shadow: 0 12px 26px rgba(139,0,0,0.18);
            }

            .image-option input[type="checkbox"]:checked ~ .caption {
                color: #8B0000;
                font-weight: 800;
            }

        /* å°å±å¹•ä¼˜åŒ– */
        @media (max-width: 520px) {
            .image-option {
                flex: 0 0 46%;
                max-width: 48%;
            }

                .image-option img {
                    height: 110px;
                }
        }

        /* è¯„åˆ†é¢˜æ ·å¼ */
        .rating-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }

            .rating-table th, .rating-table td {
                border: 1px solid #ddd;
                padding: 8px;
                text-align: center;
            }

            .rating-table th {
                background: #faf6f0;
            }

        /* æ–‡æœ¬è¾“å…¥æ¡†æ ·å¼ */
        textarea, input[type="text"], input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 5px;
            resize: vertical;
        }

        textarea {
            min-height: 80px;
        }

        input[type="number"] {
            width: 80px;
            display: inline-block;
            margin-left: 10px;
        }

        /* æŒ‰é’®æ ·å¼ */
        .btn {
            display: block;
            width: 200px;
            height: 45px;
            line-height: 45px;
            text-align: center;
            background: #8B0000;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            margin: 20px auto;
            transition: background 0.3s;
        }

            .btn:hover {
                background: #A52A2A;
            }

        /* å½©è›‹ç”»åƒæ ·å¼ */
        #portrait-result {
            display: none;
            margin: 20px 0;
            padding: 20px;
            background: #faf6f0;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1rem;
            color: #8B0000;
            font-weight: 600;
        }

        /* éšè—ç« èŠ‚çš„æ ·å¼ */
        .hidden {
            display: none;
        }

        /* å…¶ä»–è¾“å…¥æ¡†æ ·å¼ */
        .other-input {
            width: 200px !important;
            display: inline-block;
            margin-left: 10px;
        }

        /* æäº¤çŠ¶æ€æç¤º */
        #submit-status {
            text-align: center;
            margin: 10px 0;
            color: #8B0000;
            font-weight: 600;
        }

        .rating-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 8px;
        }

        .rating-row {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 0;
            border-bottom: 1px dashed #f0f0f0;
        }

            .rating-row .factor {
                width: 180px;
                font-weight: 600;
                color: #333;
            }

        .rating-range {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: nowrap;
            flex: 1 1 auto;
        }

            .rating-range input[type="range"] {
                -webkit-appearance: none;
                appearance: none;
                width: 260px;
                height: 8px;
                background: linear-gradient(90deg, #8B0000, #e6e6e6 0%);
                border-radius: 8px;
                outline: none;
            }
                /* thumb */
                .rating-range input[type="range"]::-webkit-slider-thumb {
                    -webkit-appearance: none;
                    width: 18px;
                    height: 18px;
                    border-radius: 50%;
                    background: #fff;
                    border: 3px solid #8B0000;
                    box-shadow: 0 2px 6px rgba(139,0,0,0.18);
                    cursor: pointer;
                }

                .rating-range input[type="range"]::-moz-range-thumb {
                    width: 18px;
                    height: 18px;
                    border-radius: 50%;
                    background: #fff;
                    border: 3px solid #8B0000;
                    box-shadow: 0 2px 6px rgba(139,0,0,0.18);
                }

        .range-indicator {
            min-width: 120px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
        }

        .range-value {
            font-size: 1.05rem;
            font-weight: 700;
            color: #8B0000;
        }

        .range-label {
            font-size: 0.9rem;
            color: #666;
        }
        /* å°å±å¹•é€‚é… */
        @media (max-width: 640px) {
            .rating-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

                .rating-row .factor {
                    width: 100%;
                }

            .rating-range input[type="range"] {
                width: calc(100% - 140px);
                max-width: 100%;
            }

            .rating-range {
                width: 100%;
            }
        }

        /* æ‹–æ‹½é¢˜æ ·å¼ï¼šæ¨ªæ’é€‰é¡¹ã€è‰ºæœ¯å­—ã€çº¢æ£•è‰²å®¹å™¨ã€hover æ•ˆæœ */
        .draggable-options {
            display: flex;
            gap: 12px;
            align-items: center;
            margin: 0px 0 0px 0;
            flex-wrap: nowrap;
            overflow-x: auto; /* æ¨ªå‘æ»šåŠ¨ */
            overflow-y: visible; /* å…è®¸å‚ç›´æ–¹å‘æº¢å‡ºæ˜¾ç¤ºï¼ˆä¿®å¤æ‚¬åœè¢«è£å‰ªï¼‰ */
            padding-bottom: 18px;
            padding-top: 8px;
            padding-left: 6px;
            position: relative;
            z-index: 0;
        }

        .draggable-item {
            flex: 0 0 auto;
            min-width: 120px;
            padding: 10px 14px;
            border-radius: 10px;
            border: 2px solid #8B0000; /* çº¢æ£•è‰²è¾¹æ¡† */
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: grab;
            transition: transform 0.12s ease, box-shadow 0.12s ease;
            user-select: none;
            position: relative; /* è®© z-index ç”Ÿæ•ˆ */
            z-index: 1000; /* é«˜äº surrounding elementsï¼Œé¿å…è¢«é®æŒ¡ */
            transform: translateZ(0); /* åˆ›å»ºåˆæˆå±‚ï¼Œå‡å°‘æ¸²æŸ“é®æŒ¡é—®é¢˜ */
            will-change: transform, box-shadow;
            pointer-events: auto;
        }
            /* è‰ºæœ¯å­—ä½“å’Œæ ‡é¢˜æ ·å¼ */
            .draggable-item .caption {
                font-family: "KaiTi", "STKaiti", "Brush Script MT", "Microsoft Yahei", serif;
                color: #8B0000;
                font-weight: 700;
                font-size: 1.05rem;
                text-shadow: 0 1px 0 rgba(255,255,255,0.6), 0 2px 6px rgba(0,0,0,0.05);
                pointer-events: none;
            }
            /* hover + active */
            .draggable-item:hover {
                transform: translateY(-6px) scale(1.02);
                box-shadow: 0 10px 22px rgba(139,0,0,0.10);
            }

            .draggable-item.dragging {
                opacity: 0.95;
                cursor: grabbing;
                transform: scale(1.02);
                z-index: 50;
            }
            .draggable-item:hover,
            .draggable-item.dragging {
                z-index: 1100;
            }
        .question p,
        .options {
            position: relative;
            z-index: 0;
        }
        /* ä¸‹æ–¹å¤§å®¹å™¨ */
        .drop-zone {
            margin-top: 14px;
            min-height: 90px;
            border-radius: 10px;
            border: 2px dashed rgba(139,0,0,0.18);
            display: flex;
            flex-direction: column;
            align-items: stretch;
            justify-content: center;
            padding: 14px;
            background: #fff7f6;
            position: relative;
            z-index: 10; /* ä¿æŒä½äº draggable-itemï¼Œé¿å…é®æŒ¡ */
        }

        .drop-title {
            color: #8B0000;
            font-weight: 800;
            font-family: "KaiTi", "STKaiti", "Brush Script MT", "Microsoft Yahei", serif;
            font-size: 1.2rem;
            margin-bottom: 8px;
            text-align: center;
        }

        .drop-content {
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* å½“å®¹å™¨å¯æ”¾ä¸‹å…ƒç´ æ—¶é«˜äº® */
        .drop-zone.over {
            border-color: #8B0000;
            background: #fff0ef;
        }

        /* åœ¨å°å±å¹•ä¸Šè®©é€‰é¡¹è‡ªåŠ¨æ¢è¡Œæˆ–æ¨ªå‘æ»šåŠ¨æ›´å‹å¥½ */
        @media (max-width: 520px) {
            .draggable-item {
                min-width: 100px;
                padding: 8px 10px;
                font-size: 0.95rem;
            }

            .drop-zone {
                padding: 10px;
            }
        }
        /* æƒ…æ™¯ç¤ºæ„å›¾æ ·å¼ï¼ˆè¿½åŠ åˆ°ç°æœ‰ style æœ«å°¾ï¼‰ */
        .scenario-image {
            text-align: center;
            margin-top: 10px;
        }

            .scenario-image img {
                max-width: 100%;
                height: auto;
                border-radius: 6px;
                box-shadow: 0 6px 18px rgba(0,0,0,0.06);
                display: inline-block;
            }

        .scenario-caption {
            margin-top: 6px;
            font-size: 0.9rem;
            color: #666;
        }
        /* æ»šåŠ¨æŒ‡ç¤ºå™¨æ ·å¼ */
    /* æ»šåŠ¨æŒ‡ç¤ºå™¨æ ·å¼ */
       .scroll-indicator {
            position: fixed;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;  /* æ·»åŠ è¿™ä¸€è¡Œï¼Œç¡®ä¿å†…å®¹åœ¨äº¤å‰è½´ä¸Šå±…ä¸­ */
            z-index: 1000;
            opacity: 1;
            transition: opacity 0.6s ease-out;
            text-align: center;
        }


        /* å½“é¡µé¢æ»šåŠ¨è¶…è¿‡50pxæ—¶éšè—æŒ‡ç¤ºå™¨ */
        .page-scrolled .scroll-indicator {
            opacity: 0;
            pointer-events: none;
        }

        .arrow-up {
            width: 24px;  /* æ˜ç¡®æŒ‡å®šå®½åº¦ */
            height: 20px; /* æ˜ç¡®æŒ‡å®šé«˜åº¦ */
            position: relative;
            margin-bottom: 8px;
            animation: bounce 2s infinite;
        }

        .arrow-up::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-bottom: 20px solid #8B0000;
        }



        .scroll-text {
            color: #8B0000;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            text-shadow: 0 1px 2px rgba(255,255,255,0.8);
            margin: 0;
            padding: 0;
            line-height: 1.2;
            width: auto;  /* ä¿®æ”¹è¿™ä¸€è¡Œï¼Œä¸å›ºå®šå®½åº¦ */
            min-width: 120px;  /* è®¾ç½®æœ€å°å®½åº¦ç¡®ä¿æ–‡æœ¬æœ‰è¶³å¤Ÿçš„æ˜¾ç¤ºç©ºé—´ */
            box-sizing: border-box;
            flex-shrink: 0;  /* é˜²æ­¢å…ƒç´ æ”¶ç¼© */
        }


        /* ç®­å¤´å¼¹è·³åŠ¨ç”» */
       @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0) translateX(-50%);  /* ç¡®ä¿æœ€ç»ˆä½ç½®æ­£ç¡® */
            }
            40% {
                transform: translateY(-10px) translateX(-50%);  /* åŠ¨ç”»è¿‡ç¨‹ä¸­ä¹Ÿä¿æŒæ°´å¹³å±…ä¸­ */
            }
            60% {
                transform: translateY(-5px) translateX(-50%);   /* åŠ¨ç”»è¿‡ç¨‹ä¸­ä¹Ÿä¿æŒæ°´å¹³å±…ä¸­ */
            }
        }


        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .scroll-indicator {
                bottom: 30px;
            }

            .arrow-up {
                border-left: 10px solid transparent;
                border-right: 10px solid transparent;
                border-bottom: 16px solid #8B0000;
            }

            .scroll-text {
                font-size: 12px;
            }
        }
        /* ä¿®æ”¹ä¸ºæ­£ç¡®çš„é€‰æ‹©å™¨ */
/* ä¿®æ”¹åçš„CSSï¼Œç¡®ä¿æ­£ç¡®åº”ç”¨æ ·å¼ */
.loading-title {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 99;  /* é™ä½z-indexï¼Œç¡®ä¿containeræ˜¾ç¤ºåœ¨ä¸Šé¢ */
    opacity: 1;
    transition: opacity 0.5s ease, visibility 0.5s ease;
    font-family: "KaiTi", "STKaiti", "Brush Script MT", "Microsoft Yahei", serif;
    pointer-events: none;  /* é˜²æ­¢é®æŒ¡ä¸‹æ–¹å…ƒç´  */
}

/* å½“containerå˜ä¸ºå¯è§æ—¶ï¼Œéšè—loading-title */
.container.visible ~ .loading-title {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

.loading-title h1 {
    font-size: 2.5rem;
    color: #8B0000;
    margin-bottom: 1rem;
    text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    font-family: "KaiTi", "STKaiti", "Brush Script MT", "Microsoft Yahei", serif;
}

.loading-title p {
    font-size: 1.2rem;
    color: #666;
}

    </style>
</head>

<body>
    <div class="scroll-indicator">
        <div class="arrow-up"></div>
        <div class="scroll-text">ä¸Šæ»‘å¼€å¯æµ‹è¯•</div>
    </div>
    <!-- åœ¨ scroll-indicator åï¼Œcontainer å‰æ·»åŠ  -->
<!--<div class="loading-title">
    <h1>æˆéƒ½ç™½é…’æ¶ˆè´¹å¸‚åœºè°ƒç ”é—®å·</h1>
    <p>æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡ä¸ªæ€§åŒ–æµ‹è¯•...</p>
</div>-->

    <br><br><br>
    <div class="container">
        <!-- é—®å·å¤´éƒ¨ -->
        <header class="intro">
            <h1>
                ğŸ¶ é…’å‹é€Ÿæ¥ï¼
                åªéœ€ 3 åˆ†é’Ÿï¼Œå›ç­”å‡ ä¸ªé—®é¢˜
                å³å¯ç”Ÿæˆä½ çš„â€”â€”
                ğŸ‘‰ ã€Šç™½é…’æ¶ˆè´¹åå¥½ç”»åƒã€‹
            </h1>
            <div>
                <p>
                    æ²¡æœ‰å¯¹é”™ï¼Œéƒ½æ˜¯ä½ çš„çœŸå®é€‰æ‹©ï¼
                    æœ€åä¼šè§£é”ä¸€ä¸ªã€Œåªæœ‰ä½ æ‡‚çš„é…’å‹æ ‡ç­¾ã€
                </p>
            </div>
        </header>

        <!-- è¡¨å•ä¸»ä½“ -->
        <form id="questionnaire-form">
            <!-- ä¸€ã€åŸºæœ¬ä¿¡æ¯ -->
            <section id="basic-info">
                <h2>ç¬¬ä¸€å…³ï½œä½ çš„é…’å‹åº•è‰²</h2>
                <div class="intro">
                    <p>
                        æ¯ä¸ªäººå–é…’çš„æ–¹å¼éƒ½ä¸ä¸€æ ·
                        æˆ‘ä»¬å…ˆä»ä¸€äº›è½»æ¾çš„å°é—®é¢˜å¼€å§‹
                        æ‰¾æ‰¾ä½ çš„â€œé…’å‹åº•è‰²â€
                    </p>
                </div>
                <div class="question">
                    <p>å…ˆæ¥ä¸ªç®€å•çš„ï¼Œä½ æ˜¯ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="gender" id="gender-male" value="ç”·" required> <label for="gender-male">ç”·ç”Ÿ</label></div>
                        <div class="option-item"><input type="radio" name="gender" id="gender-female" value="å¥³"> <label for="gender-female">å¥³ç”Ÿ</label></div>
                    </div>
                    <!--<small>åˆ’åˆ†ä¾æ®ï¼šæ€§åˆ«æ˜¯å½±å“ç™½é…’æ¶ˆè´¹é¢‘ç‡ã€é¦™å‹åå¥½çš„æ ¸å¿ƒäººå£ç»Ÿè®¡å­¦å˜é‡...</small>-->
                </div>

                <div class="question">
                    <p>ä½ å¤§æ¦‚å±äºå“ªä¸€ä»£é…’å‹ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="age" id="age-18-25" value="18-25å²" required> <label for="age-18-25">18-25å²</label></div>
                        <div class="option-item"><input type="radio" name="age" id="age-26-35" value="26-35å²"> <label for="age-26-35">26-35å²</label></div>
                        <div class="option-item"><input type="radio" name="age" id="age-36-45" value="36-45å²"> <label for="age-36-45">36-45å²</label></div>
                        <div class="option-item"><input type="radio" name="age" id="age-46-55" value="46-55å²"> <label for="age-46-55">46-55å²</label></div>
                        <div class="option-item"><input type="radio" name="age" id="age-55+" value="55å²ä»¥ä¸Š"> <label for="age-55+">55å²ä»¥ä¸Š</label></div>
                    </div>
                    <!--<small>åˆ’åˆ†ä¾æ®ï¼šå‚ç…§ç™½é…’è¡Œä¸šæ¶ˆè´¹ç¾¤ä½“ç»†åˆ†æ ‡å‡†...</small>-->
                </div>

                <div class="question">
                    <p>ç°åœ¨çš„ä½ ï¼Œå±äºå“ªç§â€œæ”¶å…¥çŠ¶æ€â€ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="income" id="income-2000-" value="2000å…ƒåŠä»¥ä¸‹" required> <label for="income-2000-">2000å…ƒåŠä»¥ä¸‹</label></div>
                        <div class="option-item"><input type="radio" name="income" id="income-2001-4000" value="2001-4000å…ƒ"> <label for="income-2001-4000">2001-4000å…ƒ</label></div>
                        <div class="option-item"><input type="radio" name="income" id="income-4001-6000" value="4001-6000å…ƒ"> <label for="income-4001-6000">4001-6000å…ƒ</label></div>
                        <div class="option-item"><input type="radio" name="income" id="income-6001-10000" value="6001-10000å…ƒ"> <label for="income-6001-10000">6001-10000å…ƒ</label></div>
                        <div class="option-item"><input type="radio" name="income" id="income-10001-15000" value="10001-15000å…ƒ"> <label for="income-10001-15000">10001-15000å…ƒ</label></div>
                        <div class="option-item"><input type="radio" name="income" id="income-15000+" value="15000å…ƒä»¥ä¸Š"> <label for="income-15000+">15000å…ƒä»¥ä¸Š</label></div>
                    </div>
                    <!--<small>åˆ’åˆ†ä¾æ®ï¼šæ”¶å…¥æ°´å¹³ç›´æ¥å†³å®šç™½é…’æ¶ˆè´¹çš„ä»·æ ¼åŒºé—´ä¸è´­ä¹°é¢‘æ¬¡...</small>-->
                </div>

                <div class="question">
                    <p>ä½ ç°åœ¨çš„ä¸»è¦èº«ä»½æ˜¯ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="occupation" id="occ-student" value="åœ¨æ ¡å­¦ç”Ÿ" required> <label for="occ-student">åœ¨æ ¡å­¦ç”Ÿ</label></div>
                        <div class="option-item"><input type="radio" name="occupation" id="occ-staff" value="ä¼ä¸šæ™®é€šèŒå‘˜"> <label for="occ-staff">ä¼ä¸šæ™®é€šèŒå‘˜</label></div>
                        <div class="option-item"><input type="radio" name="occupation" id="occ-manager" value="ä¼ä¸šç®¡ç†äººå‘˜"> <label for="occ-manager">ä¼ä¸šç®¡ç†äººå‘˜</label></div>
                        <div class="option-item"><input type="radio" name="occupation" id="occ-individual" value="ä¸ªä½“å·¥å•†æˆ·"> <label for="occ-individual">ä¸ªä½“å·¥å•†æˆ·</label></div>
                        <div class="option-item"><input type="radio" name="occupation" id="occ-freelance" value="è‡ªç”±èŒä¸šè€…"> <label for="occ-freelance">è‡ªç”±èŒä¸šè€…</label></div>
                        <div class="option-item"><input type="radio" name="occupation" id="occ-retired" value="é€€ä¼‘äººå‘˜"> <label for="occ-retired">é€€ä¼‘äººå‘˜</label></div>
                        <div class="option-item">
                            <input type="radio" name="occupation" id="occ-other" value="å…¶ä»–"> <label for="occ-other">å…¶ä»–</label>
                            <input type="text" name="occupation-other" placeholder="è¯·å¡«å†™å…·ä½“èŒä¸š" class="other-input">
                        </div>
                    </div>
                    <!--<small>åˆ’åˆ†ä¾æ®ï¼šèŒä¸šå…³è”æ¶ˆè´¹åœºæ™¯ï¼ˆå¦‚ä¼ä¸šç®¡ç†äººå‘˜é«˜é¢‘å•†åŠ¡å®´è¯·ï¼‰...</small>-->
                </div>
            </section>

            <!-- äºŒã€ç™½é…’æ¶ˆè´¹è¡Œä¸º -->
            <section id="consumption-behavior">
                <h2>ç¬¬äºŒå…³ï½œä½ å’Œç™½é…’ï¼Œåˆ°åº•ç†Ÿä¸ç†Ÿï¼Ÿ</h2>
                <div class="intro">
                    <p>
                        æœ‰çš„äººå¤©å¤©è§
                        æœ‰çš„äººåªåœ¨èŠ‚æ—¥æ‰“ä¸ªç…§é¢
                        ä¸‹é¢çš„é—®é¢˜ï¼Œä¼šå†³å®šä½ æ˜¯ä¸æ˜¯â€œæ ¸å¿ƒé…’å‹â€
                    </p>
                </div>
                <div class="question">
                    <p>ä½ å’Œç™½é…’è§é¢çš„é¢‘ç‡å¤§æ¦‚æ˜¯ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-daily" value="å‡ ä¹æ¯å¤©" required> <label for="freq-daily">å‡ ä¹æ¯å¤©</label></div>
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-3-5" value="æ¯å‘¨3-5æ¬¡"> <label for="freq-3-5">æ¯å‘¨3-5æ¬¡</label></div>
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-1-2" value="æ¯å‘¨1-2æ¬¡"> <label for="freq-1-2">æ¯å‘¨1-2æ¬¡</label></div>
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-month-1-2" value="æ¯æœˆ1-2æ¬¡"> <label for="freq-month-1-2">æ¯æœˆ1-2æ¬¡</label></div>
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-festival" value="ä»…èŠ‚æ—¥/èšä¼šé¥®ç”¨"> <label for="freq-festival">ä»…èŠ‚æ—¥/èšä¼šé¥®ç”¨</label></div>
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-half-year" value="åŠå¹´åŠä»¥ä¸Šä¸€æ¬¡"> <label for="freq-half-year">åŠå¹´åŠä»¥ä¸Šä¸€æ¬¡</label></div>
                        <div class="option-item"><input type="radio" name="drink-frequency" id="freq-never" value="ä»ä¸é¥®ç”¨ï¼ˆé€‰æ­¤é¡¹è·³è½¬è‡³ç¬¬å…­éƒ¨åˆ†ï¼‰"> <label for="freq-never">ä»ä¸é¥®ç”¨ï¼ˆé€‰æ­¤é¡¹è·³è½¬è‡³ç¬¬å…­éƒ¨åˆ†ï¼‰</label></div>
                    </div>
                </div>

                <div class="question" id="drink-amount">
                    <p>ä¸€æ¬¡å–å¤šå°‘ï¼Œæ‰ç®—ä½ çš„â€œæ­£å¸¸å‘æŒ¥â€ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="drink-amount" id="amount-50-" value="50mlåŠä»¥ä¸‹"> <label for="amount-50-">50mlåŠä»¥ä¸‹ï¼ˆçº¦1ä¸¤ï¼Œå°é…’æ¯1æ¯ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="drink-amount" id="amount-51-100" value="51-100ml"> <label for="amount-51-100">51-100mlï¼ˆ1-2ä¸¤ï¼Œå°é…’æ¯2æ¯ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="drink-amount" id="amount-101-200" value="101-200ml"> <label for="amount-101-200">101-200mlï¼ˆ2-4ä¸¤ï¼Œå¸¸è§„ç»ç’ƒæ¯1æ¯ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="drink-amount" id="amount-200+" value="200mlä»¥ä¸Š"> <label for="amount-200+">200mlä»¥ä¸Šï¼ˆ4ä¸¤ä»¥ä¸Šï¼‰</label></div>
                    </div>
                </div>

                <div class="question" id="price-range">
                    <p>å¦‚æœæ˜¯ä½ è‡ªå·±æé’±ï¼Œæœ€å¸¸ä¹°çš„ç™½é…’ä»·ä½æ˜¯ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="price-range" id="price-50-" value="50å…ƒåŠä»¥ä¸‹"> <label for="price-50-">50å…ƒåŠä»¥ä¸‹ï¼ˆäº²æ°‘å£ç²®é…’ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="price-range" id="price-51-100" value="51-100å…ƒ"> <label for="price-51-100">51-100å…ƒï¼ˆæ—¥å¸¸å°é…Œæ¬¾ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="price-range" id="price-101-200" value="101-200å…ƒ"> <label for="price-101-200">101-200å…ƒï¼ˆæœ‹å‹èšä¼šæ¡£ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="price-range" id="price-201-300" value="201-300å…ƒ"> <label for="price-201-300">201-300å…ƒï¼ˆå®¶åº­èšé¤çº§ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="price-range" id="price-301-500" value="301-500å…ƒ"> <label for="price-301-500">301-500å…ƒï¼ˆå®´è¯·ä½“é¢é€‰ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="price-range" id="price-501-1000" value="501-1000å…ƒ"> <label for="price-501-1000">501-1000å…ƒï¼ˆé«˜ç«¯ç¤¼èµ æ¬¾ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="price-range" id="price-1000+" value="1000å…ƒä»¥ä¸Š"> <label for="price-1000+">1000å…ƒä»¥ä¸Šï¼ˆæ”¶è—å“é‰´çº§ï¼‰</label></div>
                    </div>
                </div>

                <div class="question" id="hotpot-wine">
                    <p>
                        ğŸ”¥ ç«é”…å±€çµé­‚æ‹·é—®
                        æœ‹å‹å–Šä½ å‡ºæ¥åƒç«é”…ï¼Œä½ æœ€å¯èƒ½æ‹å“ªç“¶é…’ï¼Ÿ
                    </p>
                    <div class="options">
                        <div class="image-options" id="hotpot-image-options">
                            <label class="image-option" title="äº”ç²®æ¶²">
                                <input type="checkbox" name="hotpot-wine" value="äº”ç²®æ¶²" id="wine-wuliangye">
                                <img src="äº”ç²®æ¶².jpg" alt="äº”ç²®æ¶²">
                                <div class="caption">äº”ç²®æ¶²</div>
                            </label>

                            <label class="image-option" title="æ³¸å·è€çª–">
                                <input type="checkbox" name="hotpot-wine" value="æ³¸å·è€çª–" id="wine-luzhou">
                                <img src="æ³¸å·è€çª–.jpg" alt="æ³¸å·è€çª–">
                                <div class="caption">æ³¸å·è€çª–</div>
                            </label>

                            <label class="image-option" title="å‰‘å—æ˜¥">
                                <input type="checkbox" name="hotpot-wine" value="å‰‘å—æ˜¥" id="wine-jiannanchun">
                                <img src="å‰‘å—æ˜¥.jpg" alt="å‰‘å—æ˜¥">
                                <div class="caption">å‰‘å—æ˜¥</div>
                            </label>

                            <label class="image-option" title="å…¨å…´å¤§æ›²">
                                <input type="checkbox" name="hotpot-wine" value="å…¨å…´å¤§æ›²" id="wine-quanxing">
                                <img src="å…¨å…´å¤§æ›².jpg" alt="å…¨å…´å¤§æ›²">
                                <div class="caption">å…¨å…´å¤§æ›²</div>
                            </label>

                            <label class="image-option" title="æ°´äº•åŠ">
                                <input type="checkbox" name="hotpot-wine" value="æ°´äº•åŠ" id="wine-shuijingfang">
                                <img src="æ°´äº•åŠ.png" alt="æ°´äº•åŠ">
                                <div class="caption">æ°´äº•åŠ</div>
                            </label>

                            <label class="image-option" title="éƒé…’">
                                <input type="checkbox" name="hotpot-wine" value="éƒé…’" id="wine-langjiu">
                                <img src="éƒé…’.png" alt="éƒé…’">
                                <div class="caption">éƒé…’</div>
                            </label>

                            <label class="image-option" title="èŒ…å°">
                                <input type="checkbox" name="hotpot-wine" value="èŒ…å°" id="wine-maotai">
                                <img src="èŒ…å°.png" alt="èŒ…å°">
                                <div class="caption">èŒ…å°</div>
                            </label>

                            <label class="image-option" title="æ²±ç‰Œèˆå¾—">
                                <input type="checkbox" name="hotpot-wine" value="æ²±ç‰Œèˆå¾—" id="wine-tuopai">
                                <img src="æ²±ç‰Œ.avif" alt="æ²±ç‰Œèˆå¾—">
                                <div class="caption">æ²±ç‰Œèˆå¾—</div>
                            </label>

                            <div class="image-option" style="width: auto; display: flex; flex-direction: column; align-items: center; border: 0px;justify-content:center;">
                                <label style="cursor: pointer;">
                                    <input type="checkbox" name="hotpot-wine" value="å…¶ä»–" id="wine-other">
                                    å…¶ä»–
                                </label>
                                <input type="text" name="hotpot-wine-other" placeholder="è¯·å¡«å†™å…¶ä»–ç™½é…’å“ç‰Œ" class="other-input" style="margin-top:6px; width:120px;">
                            </div>
                        </div>
                    </div>
                    <small>ç«é”…é…ç™½é…’ï¼Œæ˜¯æˆéƒ½äººçš„ä¸“å±æµªæ¼«~</small>
                </div>

                <div class="question" id="drink-scene">
                    <p>ä¸€èˆ¬åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä½ ä¼šæƒ³åˆ°å–ç™½é…’ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="checkbox" name="drink-scene" id="scene-home-daily" value="å®¶åº­æ—¥å¸¸è‡ªé¥®"> <label for="scene-home-daily">å®¶åº­æ—¥å¸¸è‡ªé¥®</label></div>
                        <div class="option-item"><input type="checkbox" name="drink-scene" id="scene-home-party" value="å®¶åº­èšé¤"> <label for="scene-home-party">å®¶åº­èšé¤ï¼ˆå¦‚å¹´å¤œé¥­ã€å‘¨æœ«èšé¤ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="drink-scene" id="scene-friend-party" value="æœ‹å‹èšä¼š"> <label for="scene-friend-party">æœ‹å‹èšä¼šï¼ˆå¦‚ç«é”…ä¸²ä¸²å±€ã€KTVå±€ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="drink-scene" id="scene-business" value="å•†åŠ¡å®´è¯·"> <label for="scene-business">å•†åŠ¡å®´è¯·</label></div>
                        <div class="option-item"><input type="checkbox" name="drink-scene" id="scene-gift" value="èŠ‚æ—¥ç¤¼èµ "> <label for="scene-gift">èŠ‚æ—¥ç¤¼èµ ï¼ˆå¦‚ä¸­ç§‹ã€æ˜¥èŠ‚é€ç¤¼ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="drink-scene" id="scene-banquet" value="å©šå®´/å¯¿å®´ç­‰å®´å¸­"> <label for="scene-banquet">å©šå®´/å¯¿å®´ç­‰å®´å¸­</label></div>
                        <div class="option-item">
                            <input type="checkbox" name="drink-scene" id="scene-other" value="å…¶ä»–"> <label for="scene-other">å…¶ä»–</label>
                            <input type="text" name="drink-scene-other" placeholder="è¯·å¡«å†™å…¶ä»–åœºæ™¯" class="other-input">
                        </div>
                    </div>
                </div>

                <div class="question" id="buy-channel">
                    <p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ğŸ‘‡</p>
                    <!-- æƒ…æ™¯ç¤ºæ„å›¾ï¼ˆè¯·æŠŠ src æ›¿æ¢ä¸ºä½ çš„å›¾ç‰‡è·¯å¾„ï¼‰ -->
                    <div id="scenario-container" class="scenario-image" aria-live="polite"></div>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="buy-channel" id="channel-smoke-shop" value="ç¤¾åŒºçƒŸé…’åº—"> <label for="channel-smoke-shop">ç¤¾åŒºçƒŸé…’åº—ï¼ˆå°±è¿‘æ–¹ä¾¿ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="buy-channel" id="channel-supermarket" value="å¤§å‹å•†è¶…çƒŸé…’åŒº"> <label for="channel-supermarket">å¤§å‹å•†è¶…çƒŸé…’åŒºï¼ˆå“è´¨æ”¾å¿ƒï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="buy-channel" id="channel-chain-shop" value="è¿é”é…’è¡Œ"> <label for="channel-chain-shop">è¿é”é…’è¡Œï¼ˆå¦‚1919ã€é…’ä»™ç½‘çº¿ä¸‹åº—ï¼Œå“ç±»é½å…¨ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="buy-channel" id="channel-ecommerce" value="ç”µå•†å¹³å°"> <label for="channel-ecommerce">ç”µå•†å¹³å°ï¼ˆæ·˜å®/äº¬ä¸œ/æ‹¼å¤šå¤šï¼Œä»·æ ¼åˆ’ç®—ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="buy-channel" id="channel-brand-shop" value="å“ç‰Œä¸“å–åº—"> <label for="channel-brand-shop">å“ç‰Œä¸“å–åº—ï¼ˆä¿çœŸé¦–é€‰ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="buy-channel" id="channel-convenience" value="ä¾¿åˆ©åº—"> <label for="channel-convenience">ä¾¿åˆ©åº—ï¼ˆå¦‚çº¢æ——è¿é”ã€èˆä¸œé£ï¼Œåº”æ€¥ä¹‹é€‰ï¼‰</label></div>
                        <div class="option-item">
                            <input type="radio" name="buy-channel" id="channel-other" value="å…¶ä»–"> <label for="channel-other">å…¶ä»–</label>
                            <input type="text" name="buy-channel-other" placeholder="è¯·å¡«å†™å…¶ä»–æ¸ é“" class="other-input">
                        </div>
                    </div>
                </div>
            </section>

            <!-- ä¸‰ã€æ¶ˆè´¹åå¥½ä¸å½±å“å› ç´  -->
            <section id="preference-factor">
                <h2>ç¬¬ä¸‰å…³ï½œä½ æ˜¯æ€ä¹ˆé€‰é…’çš„ï¼Ÿ</h2>

                <div class="question">
                    <p>
                        å½“ä½ é€‰ç™½é…’æ—¶ï¼Œä¸‹é¢è¿™äº›å› ç´ å¯¹ä½ æœ‰å¤šé‡è¦ï¼Ÿ    
                    </p>
                    <!-- æ›¿æ¢ï¼šå°†åŸæ¥çš„ rating-table è¡¨æ ¼æ›¿æ¢ä¸ºä¸‹åˆ—æ»‘åŠ¨æ¡å¸ƒå±€ -->
                    <div class="rating-grid" id="preference-rating-grid">
                        <!-- æç¤ºè¡Œï¼ˆä¿ç•™åŸæ¥çš„äº”æ¡£è¯´æ˜ï¼‰ -->
                        <div style="font-size:0.95rem; color:#555; margin-bottom:6px;">
                            ğŸ‘‰ æ‹–åŠ¨æ»‘å—ï¼Œè¶Šå¾€å³è¶Šé‡è¦ï¼ˆ1=â­ï¼Œ5=â­â­â­â­â­ï¼‰ã€‚
                        </div>

                        <div class="rating-row">
                            <div class="factor">å“ç‰ŒçŸ¥ååº¦</div>
                            <div class="rating-range">
                                <input type="range" name="factor-brand" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-brand">3</div>
                                    <div class="range-label" data-for="factor-brand">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">å£æ„Ÿé£å‘³</div>
                            <div class="rating-range">
                                <input type="range" name="factor-taste" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-taste">3</div>
                                    <div class="range-label" data-for="factor-taste">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">ä»·æ ¼æ€§ä»·æ¯”</div>
                            <div class="rating-range">
                                <input type="range" name="factor-price" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-price">3</div>
                                    <div class="range-label" data-for="factor-price">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">åŒ…è£…è®¾è®¡</div>
                            <div class="rating-range">
                                <input type="range" name="factor-package" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-package">3</div>
                                    <div class="range-label" data-for="factor-package">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">é…’ç²¾åº¦æ•°</div>
                            <div class="rating-range">
                                <input type="range" name="factor-alcohol" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-alcohol">3</div>
                                    <div class="range-label" data-for="factor-alcohol">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">äº²å‹æ¨è</div>
                            <div class="rating-range">
                                <input type="range" name="factor-recommend" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-recommend">3</div>
                                    <div class="range-label" data-for="factor-recommend">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">å¥åº·å±æ€§</div>
                            <div class="rating-range">
                                <input type="range" name="factor-health" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-health">3</div>
                                    <div class="range-label" data-for="factor-health">â­â­â­</div>
                                </div>
                            </div>
                        </div>

                        <div class="rating-row">
                            <div class="factor">æ–‡åŒ–æƒ…æ€€</div>
                            <div class="rating-range">
                                <input type="range" name="factor-culture" min="1" max="5" step="1" value="3" required>
                                <div class="range-indicator">
                                    <div class="range-value" data-for="factor-culture">3</div>
                                    <div class="range-label" data-for="factor-culture">â­â­â­</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="question">
                    <p>
                        å¦‚æœåªèƒ½é€‰ä¸€ä¸ªæœ€çˆ±çš„é¦™å‹
                        ä½ ä¼šæŠŠè°æ”¾åœ¨ç¬¬ä¸€ä½ï¼Ÿ
                    </p>
                    <div class="options">
                        <div class="draggable-options" id="flavor-options" aria-label="é¦™å‹é€‰é¡¹">
                            <div class="draggable-item" draggable="true" data-value="æµ“é¦™å‹" id="flavor-nong">
                                <div class="caption">æµ“é¦™å‹</div>
                            </div>

                            <div class="draggable-item" draggable="true" data-value="é…±é¦™å‹" id="flavor-jiang">
                                <div class="caption">é…±é¦™å‹</div>
                            </div>

                            <div class="draggable-item" draggable="true" data-value="æ¸…é¦™å‹" id="flavor-qing">
                                <div class="caption">æ¸…é¦™å‹</div>
                            </div>

                            <div class="draggable-item" draggable="true" data-value="å…¼é¦™å‹" id="flavor-jian">
                                <div class="caption">å…¼é¦™å‹</div>
                            </div>
                        </div>
                        
                        <div class="drop-zone" id="favorite-flavor-zone" aria-label="æ‚¨æœ€çˆ±çš„é¦™å‹å®¹å™¨">
                            <div class="drop-title">æ‚¨æœ€çˆ±çš„é¦™å‹</div>
                            <div class="drop-content" id="drop-content">
                                <!-- æ‹–å…¥çš„é¡¹ä¼šåœç•™åœ¨è¿™é‡Œ -->
                            </div>
                        </div>

                        <!-- éšè—å­—æ®µï¼šæäº¤æ—¶ä¼ è¾“é€‰ä¸­çš„é¦™å‹ -->
                        <input type="hidden" name="favorite-flavor" id="favorite-flavor-input" value="">
                        <small style="display:block; margin-top:8px; color:#666;">æç¤ºï¼šå¯æ‹–åŠ¨é¦™å‹è‡³ä¸Šæ–¹å®¹å™¨ï¼›ç§»åŠ¨ç«¯å¯é•¿æŒ‰æˆ–ç‚¹å‡»é€‰ä¸­ã€‚</small>
                    </div>
                </div>

                <div class="question">
                    <p>
                        ä½ å¹³æ—¶æ›´å–œæ¬¢å“ªç§â€œé…’ç²¾å¼ºåº¦â€ï¼Ÿ
                        ï¼ˆæ”¾å¿ƒï¼Œæˆ‘ä»¬åªæƒ³çŸ¥é“ä½ çš„å£å‘³ï¼Œéè¯„åˆ¤ï¼‰
                    </p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="alcohol-degree" id="degree-38-" value="38Â°åŠä»¥ä¸‹" required> <label for="degree-38-">38Â°åŠä»¥ä¸‹ï¼ˆä½åº¦æŸ”å’Œï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="alcohol-degree" id="degree-39-45" value="39Â°-45Â°"> <label for="degree-39-45">39Â°-45Â°ï¼ˆä¸­åº¦é€‚å£ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="alcohol-degree" id="degree-46-52" value="46Â°-52Â°"> <label for="degree-46-52">46Â°-52Â°ï¼ˆé«˜åº¦ä¸»æµï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="alcohol-degree" id="degree-53+" value="53Â°åŠä»¥ä¸Š"> <label for="degree-53+">53Â°åŠä»¥ä¸Šï¼ˆé«˜åº¦é†‡åšï¼‰</label></div>
                    </div>
                </div>

                <div class="question">
                    <p>
                        å¦‚æœå‡ºç°é¢œå€¼é«˜ã€åˆ›æ„æ»¡æ»¡çš„æˆéƒ½æ–‡åˆ›ç™½é…’
                        ä½ ä¼šä¸‹å•å°è¯•å—ï¼Ÿ
                    </p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="creative-willing" id="creative-very" value="éå¸¸æ„¿æ„" required> <label for="creative-very">éå¸¸æ„¿æ„ï¼ˆé¢œå€¼å³æ­£ä¹‰ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="creative-willing" id="creative-more" value="æ¯”è¾ƒæ„¿æ„"> <label for="creative-more">æ¯”è¾ƒæ„¿æ„ï¼ˆå¥½å¥‡æƒ³è¯•è¯•ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="creative-willing" id="creative-general" value="ä¸€èˆ¬"> <label for="creative-general">ä¸€èˆ¬ï¼ˆçœ‹ä»·æ ¼å’Œè®¾è®¡ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="creative-willing" id="creative-less" value="ä¸å¤ªæ„¿æ„"> <label for="creative-less">ä¸å¤ªæ„¿æ„ï¼ˆè¿˜æ˜¯ä¼ ç»Ÿæ¬¾é è°±ï¼‰</label></div>
                        <div class="option-item"><input type="radio" name="creative-willing" id="creative-never" value="éå¸¸ä¸æ„¿æ„"> <label for="creative-never">éå¸¸ä¸æ„¿æ„ï¼ˆä¸æ„Ÿå…´è¶£ï¼‰</label></div>
                    </div>
                </div>

                <div class="question">
                    <p>
                        å“ªäº›åˆ›æ–°ç™½é…’ä½ å·²ç»ä½“éªŒè¿‡äº†ï¼Ÿ
                        ï¼ˆå¤šé€‰ï¼Œè¶ŠçœŸå®ï¼Œä½ çš„ç”»åƒè¶Šå‡†ç¡®ï¼‰
                    </p>
                    <div class="options">
                        <div class="option-item"><input type="checkbox" name="innovative-wine" id="innov-low" value="ä½åº¦ç™½é…’"> <label for="innov-low">ä½åº¦ç™½é…’ï¼ˆâ‰¤38Â°ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="innovative-wine" id="innov-small" value="æ–‡åˆ›å°ç“¶è£…ç™½é…’"> <label for="innov-small">æ–‡åˆ›å°ç“¶è£…ç™½é…’ï¼ˆâ‰¤100mlï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="innovative-wine" id="innov-fruit" value="æœå‘³ç™½é…’"> <label for="innov-fruit">æœå‘³ç™½é…’ï¼ˆå¦‚é’æ¢…å‘³ã€æ¡‘è‘šå‘³ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="innovative-wine" id="innov-herb" value="è‰æœ¬æ·»åŠ å‹ç™½é…’"> <label for="innov-herb">è‰æœ¬æ·»åŠ å‹ç™½é…’ï¼ˆå¦‚ç›å’–é…’ã€æ¸æé…’ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="innovative-wine" id="innov-never" value="ä»æœªå°è¯•"> <label for="innov-never">ä»æœªå°è¯•</label></div>
                    </div>
                </div>

                <div class="question">
                    <p>å¹³æ—¶åœ¨é€‰é…’æ—¶ï¼Œä»¥ä¸‹å¤–éƒ¨å› ç´ å¯¹ä½ çš„é€‰æ‹©å½±å“æœ‰å¤šå¤§ï¼Ÿ</p>
                    <table class="rating-table">
                        <thead>
                            <tr>
                                <th>å½±å“å› ç´ </th>
                                <th>æ— å½±å“</th>
                                <th>å½±å“è¾ƒå°</th>
                                <th>ä¸€èˆ¬</th>
                                <th>å½±å“è¾ƒå¤§</th>
                                <th>å½±å“æå¤§</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>æœ‹å‹/å®¶äººæ¨è</td>
                                <td><input type="radio" name="external-friend" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="external-friend" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="external-friend" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="external-friend" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="external-friend" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>çŸ­è§†é¢‘/ç›´æ’­ç§è‰</td>
                                <td><input type="radio" name="external-video" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="external-video" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="external-video" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="external-video" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="external-video" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>çº¿ä¸‹å¹¿å‘Šï¼ˆå…¬äº¤/åœ°é“/æˆ·å¤–ï¼‰</td>
                                <td><input type="radio" name="external-ad" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="external-ad" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="external-ad" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="external-ad" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="external-ad" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>ä¿ƒé”€æ‰“æŠ˜ï¼ˆå¦‚ä¹°ä¸€é€ä¸€ã€æ»¡å‡ï¼‰</td>
                                <td><input type="radio" name="external-sale" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="external-sale" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="external-sale" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="external-sale" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="external-sale" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>èŠ‚æ—¥æ°›å›´</td>
                                <td><input type="radio" name="external-festival" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="external-festival" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="external-festival" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="external-festival" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="external-festival" value="å½±å“æå¤§"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- å››ã€æ›¿ä»£å“è®¤çŸ¥ä¸é€‰æ‹© -->
            <section id="substitute-cognition">
                <h2>ç¬¬å››å…³ï½œæ›¿ä»£å“å¯¹æ¯”</h2>

                <div class="question">
                    <p>ä½ å¹³æ—¶ä¼šç”¨å…¶ä»–é…’ç±»æ›¿ä»£ç™½é…’å—ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="substitute-frequency" id="sub-freq-often" value="ç»å¸¸æ›¿ä»£" required> <label for="sub-freq-often">ç»å¸¸æ›¿ä»£</label></div>
                        <div class="option-item"><input type="radio" name="substitute-frequency" id="sub-freq-sometimes" value="å¶å°”æ›¿ä»£"> <label for="sub-freq-sometimes">å¶å°”æ›¿ä»£</label></div>
                        <div class="option-item"><input type="radio" name="substitute-frequency" id="sub-freq-rarely" value="å¾ˆå°‘æ›¿ä»£"> <label for="sub-freq-rarely">å¾ˆå°‘æ›¿ä»£</label></div>
                        <div class="option-item"><input type="radio" name="substitute-frequency" id="sub-freq-never" value="ä»ä¸æ›¿ä»£"> <label for="sub-freq-never">ä»ä¸æ›¿ä»£</label></div>
                    </div>
                </div>

                <!-- æ›¿æ¢ï¼šåŸæ¥çš„ å•ä¸ª name="substitute-prefer" å¯¹æ¯”é¢˜ï¼Œæ”¹ä¸º 5 ä¸ªäºŒé€‰å•é¢˜ -->
                <div class="question">
                    <p>å¿«é€ŸäºŒé€‰ä¸€ï¼çœ‹çœ‹ä½ æ˜¯ç™½é…’å¿ å®ç²‰ï¼Œè¿˜æ˜¯æ›¿ä»£é…’æ´¾</p>
                    <div class="options">
                        <!-- 2.1 ç™½é…’ vs å•¤é…’ -->
                        <div class="option-block" style="margin:6px 0;">
                            <p style="font-weight:600; margin-bottom:6px;">ç™½é…’ vs å•¤é…’ï¼šä½ æ›´çˆ±å“ªç§ï¼Ÿ</p>
                            <div class="options">
                                <div class="option-item">
                                    <input type="radio" name="compare-beer" id="compare-beer-beer" value="å•¤é…’" required>
                                    <label for="compare-beer-beer">å•¤é…’</label>
                                </div>
                                <div class="option-item">
                                    <input type="radio" name="compare-beer" id="compare-beer-baijiu" value="ç™½é…’">
                                    <label for="compare-beer-baijiu">ç™½é…’</label>
                                </div>
                            </div>
                        </div>

                        <!-- 2.2 ç™½é…’ vs æœé…’ -->
                        <div class="option-block" style="margin:6px 0;">
                            <p style="font-weight:600; margin-bottom:6px;">ç™½é…’ vs æœé…’ï¼šä½ æ›´çˆ±å“ªç§ï¼Ÿ</p>
                            <div class="options">
                                <div class="option-item">
                                    <input type="radio" name="compare-fruit" id="compare-fruit-fruit" value="æœé…’" required>
                                    <label for="compare-fruit-fruit">æœé…’</label>
                                </div>
                                <div class="option-item">
                                    <input type="radio" name="compare-fruit" id="compare-fruit-baijiu" value="ç™½é…’">
                                    <label for="compare-fruit-baijiu">ç™½é…’</label>
                                </div>
                            </div>
                        </div>

                        <!-- 2.3 ç™½é…’ vs é¢„è°ƒé…’ -->
                        <div class="option-block" style="margin:6px 0;">
                            <p style="font-weight:600; margin-bottom:6px;">ç™½é…’ vs é¢„è°ƒé…’ï¼šä½ æ›´çˆ±å“ªç§ï¼Ÿ</p>
                            <div class="options">
                                <div class="option-item">
                                    <input type="radio" name="compare-pre" id="compare-pre-pre" value="é¢„è°ƒé…’" required>
                                    <label for="compare-pre-pre">é¢„è°ƒé…’</label>
                                </div>
                                <div class="option-item">
                                    <input type="radio" name="compare-pre" id="compare-pre-baijiu" value="ç™½é…’">
                                    <label for="compare-pre-baijiu">ç™½é…’</label>
                                </div>
                            </div>
                        </div>

                        <!-- 2.4 ç™½é…’ vs çº¢é…’ -->
                        <div class="option-block" style="margin:6px 0;">
                            <p style="font-weight:600; margin-bottom:6px;">ç™½é…’ vs çº¢é…’ï¼šä½ æ›´çˆ±å“ªç§ï¼Ÿ</p>
                            <div class="options">
                                <div class="option-item">
                                    <input type="radio" name="compare-red" id="compare-red-red" value="çº¢é…’" required>
                                    <label for="compare-red-red">çº¢é…’</label>
                                </div>
                                <div class="option-item">
                                    <input type="radio" name="compare-red" id="compare-red-baijiu" value="ç™½é…’">
                                    <label for="compare-red-baijiu">ç™½é…’</label>
                                </div>
                            </div>
                        </div>

                        <!-- 2.5 ç™½é…’ vs é»„é…’ -->
                        <div class="option-block" style="margin:6px 0;">
                            <p style="font-weight:600; margin-bottom:6px;">ç™½é…’ vs é»„é…’ï¼šä½ æ›´çˆ±å“ªç§ï¼Ÿ</p>
                            <div class="options">
                                <div class="option-item">
                                    <input type="radio" name="compare-yellow" id="compare-yellow-yellow" value="é»„é…’" required>
                                    <label for="compare-yellow-yellow">é»„é…’</label>
                                </div>
                                <div class="option-item">
                                    <input type="radio" name="compare-yellow" id="compare-yellow-baijiu" value="ç™½é…’">
                                    <label for="compare-yellow-baijiu">ç™½é…’</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ä¿ç•™è¡¥å……åŸå› è¾“å…¥ -->
                    <textarea name="substitute-reason" placeholder="è¡¥å……åŸå› ï¼ˆé€‰å¡«ï¼‰"></textarea>
                </div>

                <div class="question">
                    <p>ä¸ºä»€ä¹ˆæœ‰æ—¶ä¼šé€‰æ›¿ä»£é…’ï¼Ÿï¼ˆå¯å¤šé€‰ï¼‰</p>
                    <div class="options">
                        <div class="option-item"><input type="checkbox" name="substitute-reason-check" id="sub-reason-low" value="åº¦æ•°ä½ï¼Œä¸æ˜“é†‰"> <label for="sub-reason-low">åº¦æ•°ä½ï¼Œä¸æ˜“é†‰</label></div>
                        <div class="option-item"><input type="checkbox" name="substitute-reason-check" id="sub-reason-taste" value="å£æ„Ÿæ›´æ¸…çˆ½/é¦™ç”œ"> <label for="sub-reason-taste">å£æ„Ÿæ›´æ¸…çˆ½/é¦™ç”œ</label></div>
                        <div class="option-item"><input type="checkbox" name="substitute-reason-check" id="sub-reason-health" value="å¥åº·è´Ÿæ‹…å°"> <label for="sub-reason-health">å¥åº·è´Ÿæ‹…å°</label></div>
                        <div class="option-item"><input type="checkbox" name="substitute-reason-check" id="sub-reason-social" value="æ›´ç¬¦åˆå¹´è½»ç¤¾äº¤æ°›å›´"> <label for="sub-reason-social">æ›´ç¬¦åˆå¹´è½»ç¤¾äº¤æ°›å›´</label></div>
                        <div class="option-item"><input type="checkbox" name="substitute-reason-check" id="sub-reason-price" value="ä»·æ ¼æ›´äº²æ°‘"> <label for="sub-reason-price">ä»·æ ¼æ›´äº²æ°‘</label></div>
                        <div class="option-item">
                            <input type="checkbox" name="substitute-reason-check" id="sub-reason-other" value="å…¶ä»–"> <label for="sub-reason-other">å…¶ä»–</label>
                            <input type="text" name="substitute-reason-other" placeholder="è¯·å¡«å†™å…¶ä»–åŸå› " class="other-input">
                        </div>
                    </div>
                </div>
            </section>

            <!-- äº”ã€å¸‚åœºè¶‹åŠ¿è®¤çŸ¥ -->
            <section id="market-trend">
                <h2>ç¬¬äº”å…³ï½œå¸‚åœºè¶‹åŠ¿æ„ŸçŸ¥</h2>

                <div class="question">
                    <p>æœ€è¿‘å‡ å¹´æˆéƒ½ç™½é…’åœˆå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Ÿ</p>
                    <div class="options">
                        <div class="option-item"><input type="checkbox" name="market-trend" id="trend-high" value="é«˜ç«¯ç™½é…’æ›´å—æ¬¢è¿"> <label for="trend-high">é«˜ç«¯ç™½é…’æ›´å—æ¬¢è¿</label></div>
                        <div class="option-item"><input type="checkbox" name="market-trend" id="trend-young" value="å¹´è½»äººå–ç™½é…’çš„è¶Šæ¥è¶Šå¤šï¼ˆåå¸¸è¯†è¶‹åŠ¿ï¼‰"> <label for="trend-young">å¹´è½»äººå–ç™½é…’çš„è¶Šæ¥è¶Šå¤šï¼ˆåå¸¸è¯†è¶‹åŠ¿ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="market-trend" id="trend-low" value="ä½åº¦ç™½é…’é€‰æ‹©å˜å¤š"> <label for="trend-low">ä½åº¦ç™½é…’é€‰æ‹©å˜å¤š</label></div>
                        <div class="option-item"><input type="checkbox" name="market-trend" id="trend-creative" value="ç™½é…’æ–‡åˆ›äº§å“æˆç½‘çº¢"> <label for="trend-creative">ç™½é…’æ–‡åˆ›äº§å“æˆç½‘çº¢</label></div>
                        <div class="option-item"><input type="checkbox" name="market-trend" id="trend-none" value="æ²¡æ„Ÿè§‰åˆ°æ˜æ˜¾å˜åŒ–"> <label for="trend-none">æ²¡æ„Ÿè§‰åˆ°æ˜æ˜¾å˜åŒ–</label></div>
                    </div>
                </div>

                <div class="question">
                    <p>ç™½é…’å“ç‰Œå¹´è½»åŒ–è¥é”€çš„æ¥å—ç¨‹åº¦</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="young-marketing" id="young-very" value="éå¸¸æ¥å—ï¼Œä¼šä¸»åŠ¨å…³æ³¨" required> <label for="young-very">éå¸¸æ¥å—ï¼Œä¼šä¸»åŠ¨å…³æ³¨</label></div>
                        <div class="option-item"><input type="radio" name="young-marketing" id="young-more" value="æ¯”è¾ƒæ¥å—ï¼Œçœ‹åˆ°ä¼šç•™æ„"> <label for="young-more">æ¯”è¾ƒæ¥å—ï¼Œçœ‹åˆ°ä¼šç•™æ„</label></div>
                        <div class="option-item"><input type="radio" name="young-marketing" id="young-general" value="ä¸€èˆ¬ï¼Œæ— æ‰€è°“"> <label for="young-general">ä¸€èˆ¬ï¼Œæ— æ‰€è°“</label></div>
                        <div class="option-item"><input type="radio" name="young-marketing" id="young-less" value="ä¸å¤ªæ¥å—ï¼Œè§‰å¾—è¿å’Œ"> <label for="young-less">ä¸å¤ªæ¥å—ï¼Œè§‰å¾—è¿å’Œ</label></div>
                        <div class="option-item"><input type="radio" name="young-marketing" id="young-never" value="éå¸¸ä¸æ¥å—"> <label for="young-never">éå¸¸ä¸æ¥å—</label></div>
                    </div>
                </div>

                <div class="question">
                    <p>ä¸ºç™½é…’æ–‡åŒ–é™„åŠ å€¼ä¹°å•çš„æ„æ„¿</p>
                    <div class="options">
                        <div class="option-item"><input type="radio" name="culture-value" id="culture-very" value="éå¸¸æ„¿æ„" required> <label for="culture-very">éå¸¸æ„¿æ„</label></div>
                        <div class="option-item"><input type="radio" name="culture-value" id="culture-more" value="æ¯”è¾ƒæ„¿æ„"> <label for="culture-more">æ¯”è¾ƒæ„¿æ„</label></div>
                        <div class="option-item"><input type="radio" name="culture-value" id="culture-price" value="çœ‹ä»·æ ¼è€Œå®š"> <label for="culture-price">çœ‹ä»·æ ¼è€Œå®š</label></div>
                        <div class="option-item"><input type="radio" name="culture-value" id="culture-less" value="ä¸å¤ªæ„¿æ„"> <label for="culture-less">ä¸å¤ªæ„¿æ„</label></div>
                        <div class="option-item"><input type="radio" name="culture-value" id="culture-never" value="å®Œå…¨ä¸æ„¿æ„"> <label for="culture-never">å®Œå…¨ä¸æ„¿æ„</label></div>
                    </div>
                </div>
            </section>

            <!-- å…­ã€éç™½é…’æ¶ˆè´¹è€…è°ƒç ” -->
            <section id="non-drinker" class="hidden">
                <h2>ç¬¬å…­å…³ï½œéç™½é…’å…šè§£é”ä½ çš„æ½œåŠ›</h2>
               
               
                <div class="question">
                    <p>å‘Šè¯‰æˆ‘ä»¬ï¼Œä½ ä¸ºä»€ä¹ˆé€‰æ‹©ç»•å¼€ç™½é…’ï¼Ÿ</p>
                    <table class="rating-table">
                        <thead>
                            <tr>
                                <th>åŸå› </th>
                                <th>æ— å½±å“</th>
                                <th>å½±å“è¾ƒå°</th>
                                <th>ä¸€èˆ¬</th>
                                <th>å½±å“è¾ƒå¤§</th>
                                <th>å½±å“æå¤§</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>å£æ„Ÿè¾›è¾£åˆºæ¿€ï¼Œæ¥å—ä¸äº†</td>
                                <td><input type="radio" name="non-reason-taste" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="non-reason-taste" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="non-reason-taste" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="non-reason-taste" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="non-reason-taste" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>åº¦æ•°å¤ªé«˜ï¼Œæ‹…å¿ƒä¼¤èº«</td>
                                <td><input type="radio" name="non-reason-degree" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="non-reason-degree" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="non-reason-degree" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="non-reason-degree" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="non-reason-degree" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>ä¸å–œæ¬¢ä¼ ç»Ÿé…’æ¡Œæ–‡åŒ–</td>
                                <td><input type="radio" name="non-reason-culture" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="non-reason-culture" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="non-reason-culture" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="non-reason-culture" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="non-reason-culture" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>æ²¡æœ‰é¥®ç”¨ä¹ æƒ¯</td>
                                <td><input type="radio" name="non-reason-habit" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="non-reason-habit" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="non-reason-habit" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="non-reason-habit" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="non-reason-habit" value="å½±å“æå¤§"></td>
                            </tr>
                            <tr>
                                <td>å…¶ä»–é…’ç±»æ›´ç¬¦åˆåå¥½</td>
                                <td><input type="radio" name="non-reason-other" value="æ— å½±å“" required></td>
                                <td><input type="radio" name="non-reason-other" value="å½±å“è¾ƒå°"></td>
                                <td><input type="radio" name="non-reason-other" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="non-reason-other" value="å½±å“è¾ƒå¤§"></td>
                                <td><input type="radio" name="non-reason-other" value="å½±å“æå¤§"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="question">
                    <p>
                        å³ä½¿ä½ å¹³æ—¶ä¸å–ç™½é…’ï¼Œä¹Ÿå¯èƒ½ä¼šè¢«æŸç§æ–°å“å¸å¼•ï¼
                        å¿«é€‰å‡ºä½ æ„¿æ„å°è¯•çš„ç±»å‹ï¼Œ
                    </p>
                    <div class="options">
                        <div class="option-item"><input type="checkbox" name="non-try" id="non-try-low" value="ä½åº¦æ¸…é¦™å‹ç™½é…’ï¼ˆå£æ„ŸæŸ”å’Œï¼‰"> <label for="non-try-low">ä½åº¦æ¸…é¦™å‹ç™½é…’ï¼ˆå£æ„ŸæŸ”å’Œï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="non-try" id="non-try-creative" value="æ–‡åˆ›å°ç“¶è£…ç™½é…’ï¼ˆé¢œå€¼é«˜ã€é‡å°ä¸æµªè´¹ï¼‰"> <label for="non-try-creative">æ–‡åˆ›å°ç“¶è£…ç™½é…’ï¼ˆé¢œå€¼é«˜ã€é‡å°ä¸æµªè´¹ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="non-try" id="non-try-fruit" value="æœå‘³ç™½é…’ï¼ˆé…¸ç”œé€‚å£ï¼‰"> <label for="non-try-fruit">æœå‘³ç™½é…’ï¼ˆé…¸ç”œé€‚å£ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="non-try" id="non-try-herb" value="è‰æœ¬å…»ç”Ÿç™½é…’ï¼ˆå¥åº·å±æ€§ï¼‰"> <label for="non-try-herb">è‰æœ¬å…»ç”Ÿç™½é…’ï¼ˆå¥åº·å±æ€§ï¼‰</label></div>
                        <div class="option-item"><input type="checkbox" name="non-try" id="non-try-never" value="æ— è®ºå“ªç§éƒ½ä¸ä¼šå°è¯•"> <label for="non-try-never">æ— è®ºå“ªç§éƒ½ä¸ä¼šå°è¯•</label></div>
                    </div>
                </div>

                <div class="question">
                    <p>å‡å¦‚å“ç‰Œæƒ³æ‰“åŠ¨ä½ ï¼Œä½ å¸Œæœ›ä»–ä»¬æ€ä¹ˆæ”¹ï¼Ÿ</p>
                    <table class="rating-table">
                        <thead>
                            <tr>
                                <th>æ”¹è¿›æªæ–½</th>
                                <th>éå¸¸ä¸é‡è¦</th>
                                <th>ä¸å¤ªé‡è¦</th>
                                <th>ä¸€èˆ¬</th>
                                <th>æ¯”è¾ƒé‡è¦</th>
                                <th>éå¸¸é‡è¦</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>é™ä½åº¦æ•°</td>
                                <td><input type="radio" name="improve-degree" value="éå¸¸ä¸é‡è¦" required></td>
                                <td><input type="radio" name="improve-degree" value="ä¸å¤ªé‡è¦"></td>
                                <td><input type="radio" name="improve-degree" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="improve-degree" value="æ¯”è¾ƒé‡è¦"></td>
                                <td><input type="radio" name="improve-degree" value="éå¸¸é‡è¦"></td>
                            </tr>
                            <tr>
                                <td>æ”¹è‰¯å£æ„Ÿ</td>
                                <td><input type="radio" name="improve-taste" value="éå¸¸ä¸é‡è¦" required></td>
                                <td><input type="radio" name="improve-taste" value="ä¸å¤ªé‡è¦"></td>
                                <td><input type="radio" name="improve-taste" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="improve-taste" value="æ¯”è¾ƒé‡è¦"></td>
                                <td><input type="radio" name="improve-taste" value="éå¸¸é‡è¦"></td>
                            </tr>
                            <tr>
                                <td>åˆ›æ–°åŒ…è£…</td>
                                <td><input type="radio" name="improve-package" value="éå¸¸ä¸é‡è¦" required></td>
                                <td><input type="radio" name="improve-package" value="ä¸å¤ªé‡è¦"></td>
                                <td><input type="radio" name="improve-package" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="improve-package" value="æ¯”è¾ƒé‡è¦"></td>
                                <td><input type="radio" name="improve-package" value="éå¸¸é‡è¦"></td>
                            </tr>
                            <tr>
                                <td>æ”¹å˜è¥é”€æ–¹å¼</td>
                                <td><input type="radio" name="improve-marketing" value="éå¸¸ä¸é‡è¦" required></td>
                                <td><input type="radio" name="improve-marketing" value="ä¸å¤ªé‡è¦"></td>
                                <td><input type="radio" name="improve-marketing" value="ä¸€èˆ¬"></td>
                                <td><input type="radio" name="improve-marketing" value="æ¯”è¾ƒé‡è¦"></td>
                                <td><input type="radio" name="improve-marketing" value="éå¸¸é‡è¦"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- ä¸ƒã€å¼€æ”¾æ€§é—®é¢˜ -->
            <section id="open-questions">
                <h2>ç¬¬ä¸ƒå…³ï½œå¼€æ”¾æ€§é—®é¢˜</h2>
                <div class="intro">
                    <p>
                        æœ€åä¸€å…³ï¼å†™ä¸‹ä½ çš„è§‚ç‚¹ï¼Œè¶ŠçœŸå®ï¼Œç”»åƒè¶Šç²¾å‡†
                    </p>
                </div>
                <div class="question">
                    <p>ä½ è®¤ä¸ºæœ¬åœ°å“ç‰Œï¼ˆå…¨å…´å¤§æ›²ã€æ°´äº•åŠï¼‰æœ‰å“ªäº›åˆ›æ–°æ–¹å‘ï¼Ÿ</p>
                    <textarea name="open-1" placeholder="è¯·è¾“å…¥æ‚¨çš„è§‚ç‚¹ï¼ˆé€‰å¡«ï¼‰"></textarea>
                </div>

                <div class="question">
                    <p>æœªæ¥ç™½é…’åœ¨å¹´è½»åŒ–ã€å¥åº·åŒ–ã€æœ¬åœ°åŒ–ä¸Šåº”è¯¥æ€ä¹ˆå¹³è¡¡ï¼Ÿ</p>
                    <textarea name="open-2" placeholder="è¯·è¾“å…¥æ‚¨çš„è§‚ç‚¹ï¼ˆé€‰å¡«ï¼‰"></textarea>
                </div>

                <div class="question">
                    <p>ä½ å¸Œæœ›ç™½é…’å“ç‰Œå’Œæ–‡æ—…èµ„æºæ€æ ·ç»“åˆï¼Ÿ</p>
                    <textarea name="open-3" placeholder="è¯·è¾“å…¥æ‚¨çš„è§‚ç‚¹ï¼ˆé€‰å¡«ï¼‰"></textarea>
                </div>
            </section>

            <!-- æäº¤æŒ‰é’®ä¸çŠ¶æ€æç¤º -->
            <div id="submit-status"></div>
            <button type="button" class="btn" id="submit-btn">æäº¤</button>
            <button type="button" class="btn" id="generate-portrait" style="display:none;">ğŸ¯ å¼€å§‹ç”Ÿæˆæˆ‘çš„é…’å‹ç”»åƒ</button>
        </form>

        <!-- å½©è›‹ç”»åƒç»“æœ -->
        <div id="portrait-result"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // é¡µé¢æ‰“å¼€æ—¶å¼€å§‹è®¡æ—¶ï¼ˆéšè—ï¼Œä¸å±•ç¤ºåœ¨é¡µé¢ï¼‰
            let pageStartTime = Date.now();
            let timerStopped = false;

            // å¹´é¾„å¯¹åº”ç”»åƒå›¾ç‰‡æ˜ å°„ â€”â€” è¯·æŠŠè·¯å¾„æ›¿æ¢ä¸ºä½ çš„å®é™…å›¾ç‰‡è·¯å¾„ï¼ˆç›¸å¯¹æˆ–ç»å¯¹ï¼‰
            const AGE_IMAGE_MAP = {
                '18-25å²': 'ç¤¾äº¤å°é²œæ´¾.png',    // ä¾‹å¦‚: 'images/age-18-25.png'
                '26-35å²': 'å•†åŠ¡èšä¼šä¸»åŠ›å†›.png',    // ä¾‹å¦‚: 'images/age-26-35.png'
                '36-45å²': 'ç¤¼èµ å®´è¯·æ ¸å¿ƒå±‚.png',    // ä¾‹å¦‚: 'images/age-36-45.png'
                '46-55å²': 'è‡ªé¥®å“é‰´çˆ±å¥½è€….png',    // ä¾‹å¦‚: 'images/age-46-55.png'
                '55å²ä»¥ä¸Š': 'ä¼ ç»Ÿå“ç‰Œå¿ å®ç²‰.png'    // ä¾‹å¦‚: 'images/age-55plus.png'
            };

            const LEVEL_MAP = { 1: 'â­', 2: 'â­â­', 3: 'â­â­â­', 4: 'â­â­â­â­', 5: 'â­â­â­â­â­' };

            (function ensureCompareGroupsRequired() {
                const compareNames = ['compare-beer', 'compare-fruit', 'compare-pre', 'compare-red', 'compare-yellow'];
                compareNames.forEach(name => {
                    const radios = document.getElementsByName(name);
                    if (radios && radios.length > 0) {
                        const anyRequired = Array.from(radios).some(r => r.required);
                        if (!anyRequired) radios[0].required = true;
                    }
                });
            })();

            // æ»šåŠ¨æ£€æµ‹ä¸å®¹å™¨æ˜¾ç¤ºæ•ˆæœ
    // æ»šåŠ¨æ£€æµ‹ä¸å®¹å™¨æ˜¾ç¤ºæ•ˆæœ
            const container = document.querySelector('.container');

            // ç›‘å¬æ»šåŠ¨äº‹ä»¶
            window.addEventListener('scroll', function() {
                if (window.scrollY > 50) {
                    container.classList.add('visible');
                    document.body.classList.add('page-scrolled'); // æ·»åŠ è¿™ä¸ªç±»æ¥éšè—æŒ‡ç¤ºå™¨
                } else {
                    container.classList.remove('visible');
                    document.body.classList.remove('page-scrolled'); // ç§»é™¤è¿™ä¸ªç±»æ¥æ˜¾ç¤ºæŒ‡ç¤ºå™¨
                }
            });

            // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥å½“å‰ä½ç½®
            if (window.scrollY > 50) {
                container.classList.add('visible');
                document.body.classList.add('page-scrolled');
            } else {
                document.body.classList.remove('page-scrolled');
            }


    // é¥®ç”¨é¢‘ç‡åˆ‡æ¢
    const drinkFrequencyRadios = document.querySelectorAll('input[name="drink-frequency"]');
    const nonDrinkerSection = document.getElementById('non-drinker');
    const normalSections = [
        document.getElementById('consumption-behavior'),
        document.getElementById('preference-factor'),
        document.getElementById('substitute-cognition'),
        document.getElementById('market-trend')
    ];
    drinkFrequencyRadios.forEach(radio=>{
        radio.addEventListener('change', function () {
            if (this.value === 'ä»ä¸é¥®ç”¨ï¼ˆé€‰æ­¤é¡¹è·³è½¬è‡³ç¬¬å…­éƒ¨åˆ†ï¼‰') {
                normalSections.forEach(s=>s.classList.add('hidden'));
                nonDrinkerSection.classList.remove('hidden');
            } else {
                normalSections.forEach(s=>s.classList.remove('hidden'));
                nonDrinkerSection.classList.add('hidden');
            }
        });
    });

    // range åˆå§‹åŒ–ä¸æ˜¾ç¤º
    function updateRangeDisplay(rangeEl) {
        const name = rangeEl.name;
        const v = parseInt(rangeEl.value,10) || 1;
        const valEl = document.querySelector(`.range-value[data-for="${name}"]`);
        const labelEl = document.querySelector(`.range-label[data-for="${name}"]`);
        if (valEl) valEl.textContent = v;
        if (labelEl) labelEl.textContent = LEVEL_MAP[v] || '';
        const min = parseInt(rangeEl.min||'1',10);
        const max = parseInt(rangeEl.max||'5',10);
        const percent = ((v-min)/(max-min))*100;
        rangeEl.style.background = `linear-gradient(90deg, #8B0000 ${percent}%, #e9e9e9 ${percent}%)`;
    }
    const rangeInputs = document.querySelectorAll('#preference-rating-grid input[type="range"]');
    rangeInputs.forEach(r=>{
        updateRangeDisplay(r);
        r.addEventListener('input', ()=>updateRangeDisplay(r));
        r.addEventListener('change', ()=>updateRangeDisplay(r));
    });

    // æ‹–æ‹½é¢˜é€»è¾‘ï¼ˆå«è§¦æ‘¸ä¸ç‚¹å‡»ï¼‰
    (function setupFlavorDragDrop(){
        const flavorOptions = document.getElementById('flavor-options');
        const dropZone = document.getElementById('favorite-flavor-zone');
        const dropContent = document.getElementById('drop-content');
        const hiddenInput = document.getElementById('favorite-flavor-input');
        if (!flavorOptions || !dropZone || !dropContent || !hiddenInput) return;

        let draggedEl = null;
        function setHidden(val){ hiddenInput.value = val || ''; }

        function moveToDrop(el){
            if (!el) return;
            if (dropContent.firstElementChild && dropContent.firstElementChild !== el) {
                flavorOptions.appendChild(dropContent.firstElementChild);
            }
            dropContent.appendChild(el);
            setHidden(el.dataset.value || '');
        }
        function moveBack(el){
            if (!el) return;
            flavorOptions.appendChild(el);
            setHidden('');
        }

        function onDragStart(e){
            draggedEl = e.currentTarget;
            try { e.dataTransfer.effectAllowed = 'move'; e.dataTransfer.setData('text/plain', draggedEl.dataset.value); } catch (err){}
            draggedEl.classList.add('dragging');
            setTimeout(()=>draggedEl.style.visibility = 'hidden', 0);
        }
        function onDragEnd(){
            if (!draggedEl) return;
            draggedEl.style.visibility = '';
            draggedEl.classList.remove('dragging');
            draggedEl = null;
        }
        function onDragOverZone(e){ e.preventDefault(); dropZone.classList.add('over'); try{ e.dataTransfer.dropEffect = 'move'; }catch{} }
        function onDragLeaveZone(){ dropZone.classList.remove('over'); }
        function onDropZone(e){
            e.preventDefault(); dropZone.classList.remove('over');
            let el = draggedEl;
            if (!el) {
                const val = e.dataTransfer.getData('text/plain');
                el = Array.from(flavorOptions.children).find(c=>c.dataset.value===val) || Array.from(dropContent.children).find(c=>c.dataset.value===val);
            }
            if (el) moveToDrop(el);
        }

        function onDragOverOptions(e){ e.preventDefault(); flavorOptions.classList.add('over-options'); try{ e.dataTransfer.dropEffect='move'; }catch{} }
        function onDragLeaveOptions(){ flavorOptions.classList.remove('over-options'); }
        function onDropOptions(e){
            e.preventDefault(); flavorOptions.classList.remove('over-options');
            let el = draggedEl;
            if (!el) {
                const val = e.dataTransfer.getData('text/plain');
                el = Array.from(dropContent.children).find(c=>c.dataset.value===val) || Array.from(flavorOptions.children).find(c=>c.dataset.value===val);
            }
            if (el) moveBack(el);
        }

        function onItemToggle(e){
            const el = e.currentTarget;
            if (el.parentElement === dropContent) moveBack(el); else moveToDrop(el);
        }

        function attachTouchHandlers(item){
            let touchMoved=false, startX=0, startY=0;
            item.addEventListener('touchstart', function(ev){ touchMoved=false; const t = ev.touches && ev.touches[0]; if (t){ startX=t.clientX; startY=t.clientY; } }, {passive:true});
            item.addEventListener('touchmove', function(ev){ const t = ev.touches && ev.touches[0]; if (!t) return; const dx=Math.abs(t.clientX-startX), dy=Math.abs(t.clientY-startY); if (dx>10||dy>10) touchMoved=true; }, {passive:true});
            item.addEventListener('touchend', function(ev){ if (!touchMoved){ ev.preventDefault(); onItemToggle({ currentTarget: item }); } });
        }

        function initItem(item){
            item.setAttribute('draggable','true');
            item.addEventListener('dragstart', onDragStart);
            item.addEventListener('dragend', onDragEnd);
            item.setAttribute('tabindex','0');
            item.addEventListener('click', onItemToggle);
            item.addEventListener('keydown', function(ev){ if (ev.key==='Enter' || ev.key===' '){ ev.preventDefault(); onItemToggle({ currentTarget:item }); } });
            attachTouchHandlers(item);
        }

        Array.from(flavorOptions.querySelectorAll('.draggable-item')).forEach(initItem);

        dropZone.addEventListener('dragover', onDragOverZone);
        dropZone.addEventListener('dragleave', onDragLeaveZone);
        dropZone.addEventListener('drop', onDropZone);

        flavorOptions.addEventListener('dragover', onDragOverOptions);
        flavorOptions.addEventListener('dragleave', onDragLeaveOptions);
        flavorOptions.addEventListener('drop', onDropOptions);

        // å¦‚æœé¡µé¢åˆå§‹æ—¶æœ‰å·²é€‰é¡¹ï¼Œè®¾ç½®éšè—å­—æ®µ
        if (dropContent.firstElementChild) setHidden(dropContent.firstElementChild.dataset.value || '');
    })();

    // è¡¨å•æ•°æ®æ”¶é›†
    function collectFormData(){
        const formData = {};
        const form = document.getElementById('questionnaire-form');
        const inputs = form.querySelectorAll('input, textarea');
        inputs.forEach(input=>{
            if (!input.name) return;
            if (input.type === 'radio') {
                if (input.checked) formData[input.name] = input.value;
            } else if (input.type === 'checkbox') {
                if (input.checked) {
                    if (!formData[input.name]) formData[input.name] = [];
                    formData[input.name].push(input.value);
                }
            } else if (input.type === 'range') {
                formData[input.name] = input.value;
            } else {
                formData[input.name] = input.value.trim();
            }
        });
        formData.submitTime = new Date().toLocaleString('zh-CN');
        return formData;
    }

    // ç”»åƒç”Ÿæˆï¼šè¿”å›å¯¹è±¡ { text, imagePath }ï¼ŒimagePath ç”± AGE_IMAGE_MAP æ§åˆ¶
            function generateConsumptionPortrait(data) {
                const ageLabelMap = {
                    '18-25å²': 'ç¤¾äº¤å°é²œæ´¾',
                    '26-35å²': 'å•†åŠ¡èšä¼šä¸»åŠ›å†›',
                    '36-45å²': 'ç¤¼èµ å®´è¯·æ ¸å¿ƒå±‚',
                    '46-55å²': 'è‡ªé¥®å“é‰´çˆ±å¥½è€…',
                    '55å²ä»¥ä¸Š': 'ä¼ ç»Ÿå“ç‰Œå¿ å®ç²‰'
                };
                const ageLabel = ageLabelMap[data.age] || 'ç™½é…’æ¶ˆè´¹çˆ±å¥½è€…';

                const priceDescMap = {
                    '50å…ƒåŠä»¥ä¸‹': 'äº²æ°‘å£ç²®é…’',
                    '51-100å…ƒ': 'æ—¥å¸¸å°é…Œæ¬¾',
                    '101-200å…ƒ': 'æœ‹å‹èšä¼šæ¡£',
                    '201-300å…ƒ': 'å®¶åº­èšé¤çº§',
                    '301-500å…ƒ': 'å®´è¯·ä½“é¢é€‰',
                    '501-1000å…ƒ': 'é«˜ç«¯ç¤¼èµ æ¬¾',
                    '1000å…ƒä»¥ä¸Š': 'æ”¶è—å“é‰´çº§'
                };
                const priceDesc = priceDescMap[data['price-range']] || 'é«˜æ€§ä»·æ¯”ç™½é…’';
                const favFlavor = data['favorite-flavor'] || '';
                const flavorDesc = favFlavor || 'æµ“é¦™å‹';
                const channelDesc = data['buy-channel'] || 'å“ç‰Œä¸“å–åº—';
                const creativeWilling = data['creative-willing'] || 'æ„¿æ„';
                const creativeDesc = creativeWilling.includes('æ„¿æ„') ? 'æ„¿æ„ä¸ºæ–‡åˆ›ç™½é…’ä¹°å•' : 'æ›´åçˆ±ä¼ ç»Ÿæ¬¾ç™½é…’';

                let text = '';
                if (data['drink-frequency'] === 'ä»ä¸é¥®ç”¨ï¼ˆé€‰æ­¤é¡¹è·³è½¬è‡³ç¬¬å…­éƒ¨åˆ†ï¼‰') {
                    text = `ä½ æ˜¯ã€Œç™½é…’æœªå°è¯•æ´¾ã€ï¼Œ${ageLabel}ï¼Œå› ${data['non-reason-taste'] || 'å£æ„Ÿ'}ç­‰åŸå› æš‚æœªé¥®ç”¨ç™½é…’ï¼Œ${Array.isArray(data['non-try']) && data['non-try'].includes('æ— è®ºå“ªç§éƒ½ä¸ä¼šå°è¯•') ? 'æš‚æ— æ„å°è¯•åˆ›æ–°ç™½é…’' : 'å¯¹ä½åº¦/æœå‘³åˆ›æ–°ç™½é…’æœ‰å°è¯•æ„æ„¿'}`;
                } else {
                    text = `ä½ æ˜¯ã€Œç«é”…å±€${ageLabel}ã€ï¼Œåçˆ±${priceDesc}çš„${flavorDesc}ç™½é…’ï¼Œè´­ä¹°é¦–é€‰${channelDesc}ï¼Œ${creativeDesc}~`;
                }

                // ä»…ç”¨äºé¡µé¢æœ¬åœ°å±•ç¤ºï¼Œä¸åº”åŠ å…¥æäº¤ payload
                const imagePath = AGE_IMAGE_MAP[data.age] || '';

                return { text, imagePath };
            }

    // æ”¯æŒå¤šä¸ªåç«¯ï¼šé¡ºåºå°è¯•ï¼Œé‡åˆ°ç¬¬ä¸€ä¸ªå“åº” 2xx åˆ™åœæ­¢
    const WEBHOOK_URLS = [
        'https://irrotationally-metalline-stasia.ngrok-free.dev/receive',
        // 'https://å¤‡ç”¨æ¥å£ä¸€.example.com/receive',
        // 'https://å¤‡ç”¨æ¥å£äºŒ.example.com/receive'ï¼Œ
        // 'https://å¤‡ç”¨æ¥å£ä¸€.example.com/receive',
        // 'https://å¤‡ç”¨æ¥å£äºŒ.example.com/receive'
    ];

    async function postSequential(urls, data, options = {}) {
        const timeoutMs = options.timeoutMs || 8000;
        for (const url of urls) {
            try {
                const controller = new AbortController();
                const id = setTimeout(()=>controller.abort(), timeoutMs);
                const resp = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data),
                    signal: controller.signal
                });
                clearTimeout(id);
                if (resp && resp.ok) return { ok: true, url, response: resp };
                console.warn(`POST ${url} è¿”å›çŠ¶æ€ ${resp.status}`);
            } catch (err) {
                console.warn(`POST ${url} å¤±è´¥ï¼š`, err && err.message ? err.message : err);
            }
        }
        return { ok: false };
    }

            // ========== æäº¤å¤„ç†ï¼ˆå…³é”®ï¼šå›¾ç‰‡åªå±•ç¤ºï¼Œä¸ä¸ŠæŠ¥ï¼‰ ==========
            const submitBtn = document.getElementById('submit-btn');
            const submitStatus = document.getElementById('submit-status');
            const portraitResult = document.getElementById('portrait-result');

            submitBtn.addEventListener('click', async function () {
                try {
                    if (submitBtn.disabled) return;
                    submitBtn.disabled = true;

                    // éªŒè¯ required
                    const requiredInputs = Array.from(document.querySelectorAll('input[required]'));
                    let firstUnfilled = null;
                    let unfilledQuestionText = '';
                    for (const input of requiredInputs) {
                        if (!input.offsetParent) continue;
                        const sec = input.closest('section');
                        if (sec && sec.classList.contains('hidden')) continue;

                        if (input.type === 'radio') {
                            const checked = document.querySelector(`input[name="${input.name}"]:checked`);
                            if (!checked) firstUnfilled = input;
                        } else if (input.type === 'range') {
                            const v = input.value;
                            if (v === null || v === '' || isNaN(parseInt(v, 10))) firstUnfilled = input;
                        } else if (input.type === 'checkbox') {
                            if (input.required) {
                                const any = document.querySelector(`input[name="${input.name}"]:checked`);
                                if (!any) firstUnfilled = input;
                            }
                        } else {
                            if (input.value == null || input.value.toString().trim() === '') firstUnfilled = input;
                        }

                        if (firstUnfilled) {
                            unfilledQuestionText = input.closest('.question')?.querySelector('p')?.textContent.trim() || 'æ­¤é¢˜';
                            break;
                        }
                    }
                    if (firstUnfilled) {
                        alert(`è¯·å®Œæˆã€Œ${unfilledQuestionText}ã€çš„å¡«å†™`);
                        firstUnfilled.closest('.question').scrollIntoView({ behavior: 'smooth', block: 'center' });
                        submitBtn.disabled = false;
                        return;
                    }

                    // è®¡æ—¶ç»“æŸå¹¶é™„åŠ æ—¶é•¿ä¿¡æ¯ï¼ˆä»…ä½œä¸ºè¡¨å•æ•°æ®ï¼‰
                    const pageEndTime = Date.now();
                    const elapsedMs = (pageStartTime && !timerStopped) ? (pageEndTime - pageStartTime) : 0;
                    timerStopped = true;

                    const formData = collectFormData();
                    formData._timing = {
                        startISO: new Date(pageStartTime).toISOString(),
                        endISO: new Date(pageEndTime).toISOString(),
                        elapsedMs: elapsedMs,
                        elapsedSeconds: Math.round(elapsedMs / 1000)
                    };

                    // ç”Ÿæˆç”»åƒå¯¹è±¡ï¼ˆæ–‡æœ¬ + æœ¬åœ°å›¾ç‰‡è·¯å¾„ï¼‰ï¼Œæ³¨æ„ï¼šimagePath ä»…ç”¨äºæœ¬åœ°å±•ç¤º
                    const portraitObj = generateConsumptionPortrait(formData);

                    // å‡†å¤‡è¦ä¸ŠæŠ¥çš„ payloadï¼šç¡®ä¿ä¸åŒ…å«ä»»ä½• imagePath å­—æ®µ
                    const payload = JSON.parse(JSON.stringify(formData)); // æ·±æ‹·è´
                    // å¼ºåˆ¶åˆ é™¤å¯èƒ½çš„å›¾ç‰‡å­—æ®µï¼Œç¡®ä¿ä¸ä¼šä¸Šä¼ 
                    delete payload.imagePath;
                    delete payload._image;
                    delete payload.ageImage;
                    // ï¼ˆå¦‚æœå°†æ¥æœ‰å…¶å®ƒå›¾ç‰‡å­—æ®µï¼Œä¹Ÿå¯åœ¨æ­¤åˆ é™¤ï¼‰

                    submitStatus.textContent = 'æ­£åœ¨æäº¤é—®å·...'; submitStatus.style.color = '#8B0000';

                    // ä¸ŠæŠ¥ï¼ˆpayload ä¸­å·²æ²¡æœ‰å›¾ç‰‡è·¯å¾„ï¼‰
                    const result = await postSequential(WEBHOOK_URLS, payload, { timeoutMs: 8000 });

                    if (result.ok) {
                        submitStatus.textContent = `é—®å·æäº¤æˆåŠŸï¼ˆç”± ${result.url} å“åº”ï¼‰ï¼ç”»åƒå·²ä¸ºä½ ç”Ÿæˆï¼š`;
                        submitStatus.style.color = '#28a745';
                        submitBtn.style.display = 'none';
                    } else {
                        submitStatus.textContent = 'æäº¤å¤±è´¥ï¼ˆæœªæˆåŠŸä¸ŠæŠ¥ï¼‰ã€‚å·²åœ¨æœ¬åœ°ç”Ÿæˆç”»åƒï¼š';
                        submitStatus.style.color = '#dc3545';
                        // å…è®¸é‡è¯•ï¼ˆä¿ç•™æŒ‰é’®ï¼‰
                        submitBtn.disabled = false;
                    }

                    // æœ¬åœ°å±•ç¤ºç”»åƒï¼šå›¾ç‰‡ä»…ç”¨äºé¡µé¢å±•ç¤ºï¼Œä¸åŠ å…¥ä»»ä½•ä¸ŠæŠ¥å†…å®¹
                    portraitResult.innerHTML = '';
                    portraitResult.style.display = 'block';
                    if (portraitObj.imagePath) {
                        const img = document.createElement('img');
                        img.src = portraitObj.imagePath;
                        img.alt = formData.age ? `${formData.age} ç”»åƒ` : 'ç”¨æˆ·ç”»åƒ';
                        img.style.maxWidth = '160px';
                        img.style.height = 'auto';
                        img.style.display = 'block';
                        img.style.margin = '0 auto 10px';
                        img.loading = 'lazy';
                        portraitResult.appendChild(img);
                    }
                    const txt = document.createElement('div');
                    txt.textContent = portraitObj.text;
                    portraitResult.appendChild(txt);

                } catch (err) {
                    submitStatus.textContent = `æäº¤å¤±è´¥ï¼š${err.message}ã€‚å·²åœ¨æœ¬åœ°ç”Ÿæˆç”»åƒï¼š`;
                    submitStatus.style.color = '#dc3545';
                    console.error(err);
                    submitBtn.disabled = false;

                    try {
                        const formData = collectFormData();
                        const pageEndTime = Date.now();
                        const elapsedMs = (pageStartTime && !timerStopped) ? (pageEndTime - pageStartTime) : 0;
                        formData._timing = {
                            startISO: new Date(pageStartTime).toISOString(),
                            endISO: new Date(pageEndTime).toISOString(),
                            elapsedMs: elapsedMs,
                            elapsedSeconds: Math.round(elapsedMs / 1000)
                        };

                        const portraitObj = generateConsumptionPortrait(formData);
                        portraitResult.innerHTML = '';
                        portraitResult.style.display = 'block';
                        if (portraitObj.imagePath) {
                            const img = document.createElement('img');
                            img.src = portraitObj.imagePath;
                            img.alt = formData.age ? `${formData.age} ç”»åƒ` : 'ç”¨æˆ·ç”»åƒ';
                            img.style.maxWidth = '160px';
                            img.style.height = 'auto';
                            img.style.display = 'block';
                            img.style.margin = '0 auto 10px';
                            img.loading = 'lazy';
                            portraitResult.appendChild(img);
                        }
                        const txt = document.createElement('div');
                        txt.textContent = portraitObj.text;
                        portraitResult.appendChild(txt);
                    } catch (e) { console.error(e); }
                }
            });

            // ä¿æŒåŸæœ‰çš„éšæœºæƒ…æ™¯æ¸²æŸ“è„šæœ¬ï¼ˆç•¥ï¼‰...
            (function renderRandomScenario() {
                const scenarios = [
                    { src: 'åƒå¸­.png', caption: 'è¿‡å‡ å¤©æ™šä¸Šè¦å’Œé¢†å¯¼åƒé¥­ï¼Œå¸­é—´ä»–å¯èƒ½ä¼šå’Œä½ èŠåˆ°åŠ è–ªã€æ™‹å‡ã€‚ä½ ä¸´æ—¶å†³å®šå¸¦ä¸€ç“¶ç™½é…’è¡¨ç¤ºå¿ƒæ„ã€‚æ—¶é—´ç´§ã€äº‹æƒ…é‡è¦ï¼Œä½ æœ€å¯èƒ½å»å“ªä¹°ï¼Ÿ' },
                    { src: 'ç«é”…åœºæ™¯.png', caption: 'å’Œä¸€ç¾¤å¥½å‹çº¦å¥½å‡ å¤©ååƒå¸­ï¼Œå¤§å®¶å…³ç³»éƒ½å¾ˆå¥½ï¼Œæ°”æ°›çƒ­é—¹ï¼Œä½ å†³å®šå¸¦ç“¶ç™½é…’æ¥åŠ©åŠ©å…´ã€‚ä½ æ›´å€¾ä»å“ªä¸ªæ¸ é“ä¹°ç™½é…’ï¼Ÿ' },
                    { src: 'å®¶åº­èšé¤.png', caption: 'å‘¨æœ«å®¶åº­èšé¤ï¼Œä½ æƒ³ä¹°ä¸€ç“¶ç™½é…’æ¥æ•¬ç»™å®¶é‡Œçš„é•¿è¾ˆï¼Œä½ ä¼šé€‰å“ªç±»æ¸ é“è´­ä¹°ï¼Ÿ' },
                ];

                const container = document.getElementById('scenario-container');
                if (!container || !scenarios.length) return;
                const idx = Math.floor(Math.random() * scenarios.length);
                const s = scenarios[idx];

                container.innerHTML = '';
                const img = document.createElement('img');
                img.src = s.src;
                img.alt = s.caption.replace(/\s+/g, ' ').slice(0, 120);
                img.loading = 'lazy';
                img.style.maxWidth = '100%';
                img.style.height = 'auto';
                img.style.borderRadius = '6px';
                img.style.boxShadow = '0 6px 18px rgba(0,0,0,0.06)';
                container.appendChild(img);

                const caption = document.createElement('div');
                caption.className = 'scenario-caption';
                caption.style.textAlign = 'left';
                caption.style.marginTop = '8px';
                caption.textContent = s.caption;
                container.appendChild(caption);

                container.setAttribute('aria-label', 'å½“å‰é—®å·æƒ…æ™¯ï¼š' + (s.caption.slice(0, 60)));
            })();
        });
</script>
</body>
</html>

